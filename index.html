<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>加速度の値を得る</title>
    <script type = "text/javascript">
        function handleOnClick() {
            DeviceOrientationEvent.requestPermission().then( function() {
                window.addEventListener( "deviceorientation", function( e ){
                    let alpha = e.alpha;
                    let beta = e.beta;
                    let gamma = e.gamma;

                    let result2 = document.getElementById( "result_gyro");
                    result2.innerHTML = "ジャイロセンサー<br />" +
                        "alpha:" + alpha.toFixed(2) + "°<br />" +
                        "beta:" + beta.toFixed(2) + "°<br />" +
                        "gamma:" + gamma.toFixed(2) + "°<br />";
                });

            }).catch(function(e) { console.log(e) });
        }

        window.addEventListener( "devicemotion", function( e ){
            let x = e.accelarationIncludeingGrabiyt.x;
            let y = e.accelarationIncludeingGrabiyt.y;
            let z = e.accelarationIncludeingGrabiyt.z;

            let result1 = document.getElementById( "result_acc");
            result1.innerHTML = "重力加速度<br />" +
                 "x:" + x.toFixed(2) + "(m/s^2)<br />" +
                "y:" + y.toFixed(2) + "(m/s^2)<br />" +
                "z:" + z.toFixed(2) + "(m/s^2)<br />";
        });

    </script>

</head>

<body>
    <div id="result_acc">ここにデータを表示</div>
    <br />
    <div id="result_gyro"></div>    
    <button onclick="handleOnClick">許可</button>


</body>
</html>